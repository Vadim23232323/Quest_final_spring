<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/springsecurity">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="/js/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="/static/css/style.css" th:href="@{/css/style.css}"/>
    <script src="https://kit.fontawesome.com/13d829f7a0.js"></script>
    <link th:href="@{/images/favicon.png}" rel="icon" type="image/png">
    <title>Quest</title>
</head>
<body>
<header class="bg-light d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-0 border-bottom">
    <a th:href="@{/}" class="d-flex align-items-left col-md-2 mb-2 mb-md-0 text-dark text-decoration-none">
        <i class="fa fa-ioxhost" aria-hidden="true"></i>
        <p class="logo">КВЕСТЫ</p>
    </a>

    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li sec:authorize="isAuthenticated()"><a th:href="@{/}" class="nav-link px-2">ГЛАВНАЯ</a></li>
        <li sec:authorize="isAuthenticated()"><a th:href="@{/list-quest}" class="nav-link px-2">КВЕСТЫ</a></li>
        <li sec:authorize="!isAuthenticated()"><a th:href="@{/}" class="nav-link px-2">ГЛАВНАЯ</a></li>
    </ul>

    <ul class="nav col-md-3 text-end">
        <li sec:authorize="isAuthenticated()"><a th:href="@{/profile}" class="sign-nav">Профиль</a></li>
        <li sec:authorize="isAuthenticated()">
            <a href="#" class="sign-nav" onclick="document.getElementById('logoutForm').submit(); return false;">Выйти</a>
        </li>
        <li sec:authorize="!isAuthenticated()"><a th:href="@{/login}" class="sign-nav">Войти</a></li>
        <li sec:authorize="!isAuthenticated()"><a th:href="@{/signup}" class="sign-nav">Регистрация</a></li>
    </ul>

    <!-- Скрытая форма для выхода -->
    <form id="logoutForm" th:action="@{/logout}" method="post" style="display: none;">
        <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
    </form>
</header>


